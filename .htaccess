RewriteEngine On

# Редирект с http на https
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Удалить .html с конца страницы, если она существует
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)/?$ /$1.html [L]

# Редирект с .html на страницы без .html
RewriteCond %{THE_REQUEST} \s/+(.+)\.html [NC]
RewriteRule ^ /%1 [R=301,L]
AddDefaultCharset UTF-8